<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Angular-google-auth2 by sreeneshkini</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Angular-google-auth2</h1>
        <h2>This angular js directive plugin helps one to implement the google auth2 sign-in and sign-out features in web apps, mobile apps developed using angular js</h2>
        <a href="https://github.com/sreeneshkini/angular-google-auth2" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="angular-google-auth2" class="anchor" href="#angular-google-auth2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>angular-google-auth2</h1>

<h2>
<a id="table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Table of contents</h2>

<ul>
<li><a href="#about">About</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#license">License</a></li>
</ul>

<h2>
<a id="about" class="anchor" href="#about" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>About</h2>

<p>This angular js directive plugin helps one to implement the google auth2 sign-in and sign-out features in web apps, mobile apps developed using angular js.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>This plugin requires <a href="https://angularjs.org/">AngularJS</a> to be used in your application.</p>

<ul>
<li>bower install angular-google-auth2 -<br>
</li>
</ul>

<pre><code>bower install --save angular-google-auth2
</code></pre>

<ul>
<li>npm install angular-google-auth2 -<br>
</li>
</ul>

<pre><code>npm install --save angular-google-auth2
</code></pre>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Documentation</h2>

<p>Follow the steps below to use the plugin:</p>

<ul>
<li>Include the following Google API link, JS and CSS files for the plugin:</li>
</ul>

<pre><code>&lt;script src="https://apis.google.com/js/api:client.js"&gt;&lt;/script&gt;

&lt;link rel="stylesheet" type="text/css" href="angular-google-auth2/build/css/style.css"&gt;

&lt;script type="text/javascript" src="angular.min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript" src="angular-route.min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript" src="angular-google-auth2/build/js/angular-google-auth2.js"&gt;&lt;/script&gt;
</code></pre>

<ul>
<li>Add the module dependency in your AngularJS app:</li>
</ul>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> auth2Demo <span class="pl-k">=</span> <span class="pl-smi">angular</span>.<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>myApp<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>angular-google-auth2<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>ngRoute<span class="pl-pds">'</span></span>]);</pre></div>

<ul>
<li><p>This plugin provides 2 directives - 
1) Sign In directive - <b>s-sign-in</b>
2) Sign Out directive - <b>s-sign-out</b></p></li>
<li>
<p>Perform the following to use <b>s-sign-in</b> directive inside your login.html page (This will create a sign in button along with it's functionality) - </p>

<pre><code>&lt;div class="signInGreenSmall" s-sign-in client="xxxxxxxxxxxxxx" hd="gmail.com,yahoo.com" redirect="home" thirdparty="no" emailvalidate="emails"&gt;
</code></pre>

<ul>
<li>
<b>class</b> - This plugin provides with a set of custom css classes for sign-in button</li>
<li>
<b>s-sign-in</b> - Directive name to be used for sign-in<br>
</li>
<li>
<b>client</b> - The client id that you will get from Google's Developer account when you will create your project credentials there</li>
<li>
<b>hd</b> - List of the domains that specify which domain users are allowed to use your application. Users that don't belong to the listed domains will have no access to your application</li>
<li>
<b>redirect</b> - Name of the page that you want your user to redirect on sign-in</li>
<li>
<b>thirdparty (optional)</b> - This attribute takes two values. 

<ul>
<li>
<b>yes</b> - If this value is set to 'yes', it specifies that you are using a third party to '<b>logout</b>' from your app, and so this plugin will provide you a custom method <b>S_GeneralData.s_flush()</b>, which you need to use manditorily along with your own logout procedure</li>
<li>
<b>no</b> - If this value is set to 'no', plugin will handle the '<b>logout</b>', you don't need to worry</li>
<li>
<b>emailvalidate (optional)</b> - You need to provide an array of objects containing email ids as value to this attribute. It checks if the user belongs to the list of given emails from the array. It must be array of objects where the key should be 'email' and value must be the email ids. Here, 'emails' is the name of the array of objects.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>To use <b>s-sign-out</b> directive, include the following inside your home.html page<a href="This%20will%20create%20sign%20out%20button%20along%20with%20it's%20functionality">or any page you like the logout button to be</a> -</p>

<pre><code>  &lt;div class="signOutGreen" s-sign-out&gt;&lt;/div&gt;
</code></pre>

<ul>
<li>
<b>class</b> - This plugin provides with a set of custom css classes for sign-out button</li>
<li>
<b>s-sign-out</b> - Directive name to be used for sign out</li>
</ul>
</li>
<li><p>Your login.html will be having corresponding controller, say, 'LoginController'. Include the following line of code in your html page and controller -</p></li>
</ul>

<p>login.html</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">ng-controller</span>=<span class="pl-s"><span class="pl-pds">"</span>LoginController<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">h3</span>&gt;{{displayLogin}}&lt;/<span class="pl-ent">h3</span>&gt;
  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>signInGreenLarge<span class="pl-pds">"</span></span> <span class="pl-e">s-sign-in</span> <span class="pl-e">client</span>=<span class="pl-s"><span class="pl-pds">"</span>xxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="pl-pds">"</span></span>      <span class="pl-e">hd</span>=<span class="pl-s"><span class="pl-pds">"</span>gmail.com,yahoo.com<span class="pl-pds">"</span></span> <span class="pl-e">redirect</span>=<span class="pl-s"><span class="pl-pds">"</span>home<span class="pl-pds">"</span></span> <span class="pl-e">thirdparty</span>=<span class="pl-s"><span class="pl-pds">"</span>no<span class="pl-pds">"</span></span> <span class="pl-e">emailvalidate</span>=<span class="pl-s"><span class="pl-pds">"</span>emails<span class="pl-pds">"</span></span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<p>LoginController</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">auth2Demo</span>.<span class="pl-en">controller</span>(<span class="pl-s"><span class="pl-pds">'</span>LoginController<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>$scope<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>S_PersonalData<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>$location<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">$scope</span>, <span class="pl-smi">S_PersonalData</span>, <span class="pl-smi">$location</span>){
  <span class="pl-k">if</span>(<span class="pl-smi">S_PersonalData</span>.<span class="pl-en">s_getPersonalData</span>().<span class="pl-smi">isLogin</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>yes<span class="pl-pds">'</span></span>){
    <span class="pl-smi">$location</span>.<span class="pl-en">path</span>(<span class="pl-s"><span class="pl-pds">"</span>/home<span class="pl-pds">"</span></span>);
  }<span class="pl-k">else</span>{
    <span class="pl-smi">$scope</span>.<span class="pl-smi">displayLogin</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>This is login page<span class="pl-pds">"</span></span>;
        <span class="pl-smi">$scope</span>.<span class="pl-smi">emails</span> <span class="pl-k">=</span> [
            {
              <span class="pl-s"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>kinisreenesh202@gmail.com<span class="pl-pds">'</span></span>,
            },
            {
              <span class="pl-s"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>sreeneshkini202@gmail.com<span class="pl-pds">'</span></span>
            }
    ];
  }
}]);</pre></div>

<p>1) This plugin provides a service called <b>S_PersonalData</b>. This service provides you with the <b>s_getPersonalData()</b> method, that in turn provides you with following values -</p>

<ul>
<li>
<b>isLogin</b> - Used to check whether the user is logged-in or not. It has two values, namely, yes or no.</li>
<li>
<b>token</b> - Used to get the token of the logged-in user</li>
<li>
<b>name</b> - Used to get the name of the logged-in user</li>
<li>
<b>email</b> - Used to get the email id of the logged-in user</li>
<li>
<b>profile</b> - Used to get the user profile url of logged-in user</li>
</ul>

<p>2) For all pages in your app, you need to check whether the user is logged in or not. For this, you should write <b>if (S_PersonalData.s_getPersonalData().isLogin == 'yes')</b> as shown in above demo code. If the user is already logged-in, you can redirect user to required page.</p>

<p>3) List of allowed users can be provided as an array of objects like <b>$scope.emails</b>. However, this is optional</p>

<ul>
<li>Your home.html will be having corresponding controller, say, 'HomeController'. Include the following line of code in your html and controller -</li>
</ul>

<p>home.html</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">ng-controller</span>=<span class="pl-s"><span class="pl-pds">"</span>HomeController<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">p</span>&gt;Name : {{name}}&lt;/<span class="pl-ent">p</span>&gt;
  &lt;<span class="pl-ent">p</span>&gt;Email : {{email}}&lt;/<span class="pl-ent">p</span>&gt;
  &lt;<span class="pl-ent">p</span>&gt;Profile Pic: &lt;/<span class="pl-ent">p</span>&gt;&lt;<span class="pl-ent">img</span> <span class="pl-e">ng-src</span>=<span class="pl-s"><span class="pl-pds">"</span>{{profileURL}}<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>signOutGreen<span class="pl-pds">"</span></span> <span class="pl-e">s-sign-out</span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<p>HomeController</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">auth2Demo</span>.<span class="pl-en">controller</span>(<span class="pl-s"><span class="pl-pds">'</span>HomeController<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>$scope<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>S_PersonalData<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>$location<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">$scope</span>, <span class="pl-smi">S_PersonalData</span>, <span class="pl-smi">$location</span>){
  <span class="pl-k">if</span>(<span class="pl-smi">S_PersonalData</span>.<span class="pl-en">s_getPersonalData</span>().<span class="pl-smi">isLogin</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>yes<span class="pl-pds">'</span></span>){
    <span class="pl-smi">$scope</span>.<span class="pl-c1">name</span> <span class="pl-k">=</span> <span class="pl-smi">S_PersonalData</span>.<span class="pl-en">s_getPersonalData</span>().<span class="pl-c1">name</span>;
    <span class="pl-smi">$scope</span>.<span class="pl-smi">email</span> <span class="pl-k">=</span> <span class="pl-smi">S_PersonalData</span>.<span class="pl-en">s_getPersonalData</span>().<span class="pl-smi">email</span>;
    <span class="pl-smi">$scope</span>.<span class="pl-smi">profileURL</span> <span class="pl-k">=</span> <span class="pl-smi">S_PersonalData</span>.<span class="pl-en">s_getPersonalData</span>().<span class="pl-c1">profile</span>;
  }<span class="pl-k">else</span>{
    <span class="pl-smi">$location</span>.<span class="pl-en">path</span>(<span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>);
  }
}]);</pre></div>

<p>1) home.html page will be the page that will be accessible after successful login. The controller checks the same whether the user is logged-in or not. If user is logged-in, then you can fetch the required values to display or store in database.</p>

<ul>
<li>As mentioned before, if you are using any third party for handling the logout, then you need to manditorily use plugin's <b>S_GeneralData.s_flush()</b> method, which will flush out the plugin's initializations on sign-out. For this you need to use <b>S_GeneralData</b> service in your controller as follows -</li>
</ul>

<p>HomeController</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">auth2Demo</span>.<span class="pl-en">controller</span>(<span class="pl-s"><span class="pl-pds">'</span>HomeController<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>$scope<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>S_PersonalData<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>S_GeneralData<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>$location<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">$scope</span>, <span class="pl-smi">S_PersonalData</span>, <span class="pl-smi">S_GeneralData</span>, <span class="pl-smi">$location</span>){
  <span class="pl-k">if</span>(<span class="pl-smi">S_PersonalData</span>.<span class="pl-en">s_getPersonalData</span>().<span class="pl-smi">isLogin</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>yes<span class="pl-pds">'</span></span>){
        <span class="pl-smi">$scope</span>.<span class="pl-c1">name</span> <span class="pl-k">=</span> <span class="pl-smi">S_PersonalData</span>.<span class="pl-en">s_getPersonalData</span>().<span class="pl-c1">name</span>;
        <span class="pl-smi">$scope</span>.<span class="pl-smi">email</span> <span class="pl-k">=</span> <span class="pl-smi">S_PersonalData</span>.<span class="pl-en">s_getPersonalData</span>().<span class="pl-smi">email</span>;
        <span class="pl-smi">$scope</span>.<span class="pl-smi">profileURL</span> <span class="pl-k">=</span> <span class="pl-smi">S_PersonalData</span>.<span class="pl-en">s_getPersonalData</span>().<span class="pl-c1">profile</span>;
    <span class="pl-k">var</span> <span class="pl-en">your_logout_method</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(){
          <span class="pl-c">// your code if any</span>
          <span class="pl-smi">S_GeneralData</span>.<span class="pl-en">s_flush</span>();
          <span class="pl-c">// your code if any</span>
        };
  }<span class="pl-k">else</span>{
    <span class="pl-smi">$location</span>.<span class="pl-en">path</span>(<span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>);
  }
}]);</pre></div>

<ul>
<li>
<p>This plugin provides following custom CSS classes that you can use to change the color and size of sign-in and sign-out buttons - </p>

<ul>
<li>signInBlueSmall</li>
<li>signInBlueMedium</li>
<li>signInBlueLarge</li>
<li>signInGreenSmall</li>
<li>signInGreenMedium</li>
<li>signInGreenLarge</li>
<li>signInRedSmall</li>
<li>signInRedMedium</li>
<li>signInRedLarge</li>
<li>signInLightBlueSmall</li>
<li>signInLightBlueMedium</li>
<li>signInLightBlueLarge</li>
<li>signInLightGreenSmall</li>
<li>signInLightGreenMedium</li>
<li>signInLightGreenLarge</li>
<li>signInLightRedSmall</li>
<li>signInLightRedMedium</li>
<li>signInLightRedLarge</li>
<li>signOutBlue</li>
<li>signOutGreen</li>
<li>signOutRed</li>
<li>signOutLightBlue</li>
<li>signOutLightGreen</li>
<li>signOutLightRed</li>
</ul>
</li>
<li><p><b>Login Page Demo</b></p></li>
</ul>

<p><img src="https://raw.githubusercontent.com/sreeneshkini/angular-google-auth2/master/build/demo_images/login_page.PNG" alt="Image of Login Page"></p>

<ul>
<li><b>Home Page Demo</b></li>
</ul>

<p><img src="https://raw.githubusercontent.com/sreeneshkini/angular-google-auth2/master/build/demo_images/home_page.PNG" alt="Image of Login Page"></p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>The MIT License</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/sreeneshkini/angular-google-auth2/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/sreeneshkini/angular-google-auth2/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/sreeneshkini/angular-google-auth2"></a> is maintained by <a href="https://github.com/sreeneshkini">sreeneshkini</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
